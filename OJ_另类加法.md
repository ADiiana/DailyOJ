# OJ_另类加法

[牛客网链接](https://www.nowcoder.com/practice/e7e0d226f1e84ba7ab8b28efc6e1aebc?tpId=8&&tqId=11065&rp=1&ru=/activity/oj&qru=/ta/cracking-the-coding-interview/question-ranking)

>请编写一个函数，将两个数字相加。不得使用+或其他算数运算符。
>
>给定两个int **A**和**B**。请返回A＋B的值
>
>测试样例：
>
>```
>1,2
>返回：3
>```

<font size = 5 color = red>思路：</font>

算数运算符是给十进制数字的的运算规则，在我们掌握的运算符里，除了算术运算符，常见的还有逻辑运算符，、关系运算符、位运算符等。

这里位运算符是二进制运算符，而十进制数组在计算机内存里也是用二进制存储的，所以我们可以用位运算符完成加的操作。

~~~C
以 25 + 26 为例。
25在计算机内部的存储为 00000000 00000000 00000000 00011001
26在计算机内部的存储为 00000000 00000000 00000000 00011010
为了表示方便，之后的运算只取一个字节表示int
~~~

~~~C
//^ 异或运算,相异为1，相同为0
0 ^ 1 = 1;
1 ^ 0 = 1;
0 ^ 0 = 0;
1 ^ 1 = 1;
~~~

~~~C
//& 与运算，相同为1，相异为0
0 & 1 = 0；
1 & 0 = 0；
1 & 1 = 1；
0 & 0 = 0；
~~~

- 不考虑进位的话，两数的二进制相^，就能得到结果，比如：2 + 1

>2---->0000 0010
>
>1---->0000 0001
>
>相异或的结果为0000 0011 ---->3

- 如果有一位进位，可以用&和^共同完成操作

>&操作符的条件也满足进位的条件，进位之后，需要将结果左移一位，再与两数相^的结果相**异或**。
>
>2---->0000 0010
>
>3---->0000 0011
>
>2 和 3 异或：0000 0001	2 和 3相与：0000 0010------>左移1位------>0000 0100
>
>0000 0001
>
>0000 0100
>
>相异或：0000 0101 -----> 5

- **如果有若干个进位，即从右向左，每次进一位，结果"相加"，相加的操作又是 异或的结果 “加上” 相与左移一位的结果，构成一个循环，直到没有进位为止。**

**代码如下：**

~~~C
class UnusualAdd {
public:
	int addAB(int A, int B) {
		int sum = 0;
        int carry = 0;
        while(B != 0){
            sum = A ^ B;
            carry = (A & B) << 1;
            B = carry;
            A = sum;
        }
        return sum;
	}
};
~~~

